{"ast":null,"code":"var _jsxFileName = \"/home/santiago/Trybe/myprojects/sd-09-project-frontend-online-store/src/components/SearchBar.jsx\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport shopCart from '../images/shopCart.png';\nimport ListCategories from './ListCategories';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport CreateCard from './CreateCard';\n\nclass SearchBar extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      productList: undefined,\n      searchQuery: '',\n      searchCategory: ''\n    };\n    this.getQuery = this.getQuery.bind(this);\n    this.getCategory = this.getCategory.bind(this);\n    this.blankField = this.blankField.bind(this);\n  }\n\n  componentDidMount() {\n    this.requestList();\n  } // Altera o estado de search para o valor contido na searchBar\n\n\n  async getQuery(event) {\n    await this.setState({\n      searchQuery: event.target.value\n    }); // console.log(this.state.searchQuery);\n  }\n\n  async getCategory(event) {\n    await this.setState({\n      searchCategory: event.target.value\n    });\n    this.requestList(); // console.log(this.state.searchCategory);\n  }\n\n  async requestList() {\n    const {\n      searchCategory,\n      searchQuery\n    } = this.state;\n    const reqList = await getProductsFromCategoryAndQuery(searchCategory, searchQuery);\n    this.setState({\n      productList: reqList\n    });\n    localStorage.setItem('productObj', JSON.stringify(reqList));\n  }\n\n  blankField() {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      className: \"alert-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, \"Nenhum produto foi encontrado\");\n  }\n\n  render() {\n    const {\n      productList\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ListCategories, {\n      fnc: this.getCategory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      \"data-testid\": \"query-input\",\n      type: \"text\",\n      className: \"search-bar-main\",\n      onChange: this.getQuery,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-search\",\n      \"data-testid\": \"query-button\",\n      type: \"button\",\n      onClick: () => this.requestList(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, \"Pesquisar\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/shopping-cart\",\n      \"data-testid\": \"shopping-cart-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: shopCart,\n      alt: \"Imagem do carrinho de compras\",\n      className: \"shop-cart-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"h4\", {\n      \"data-testid\": \"home-initial-message\",\n      className: \"message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, \"Digite algum termo de pesquisa ou escolha uma categoria.\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, !productList ? this.blankField() : productList.results.map(product => /*#__PURE__*/React.createElement(CreateCard, {\n      key: product.id,\n      product: product,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    })))));\n  }\n\n}\n\nexport default SearchBar;","map":{"version":3,"sources":["/home/santiago/Trybe/myprojects/sd-09-project-frontend-online-store/src/components/SearchBar.jsx"],"names":["React","Link","shopCart","ListCategories","getProductsFromCategoryAndQuery","CreateCard","SearchBar","Component","constructor","state","productList","undefined","searchQuery","searchCategory","getQuery","bind","getCategory","blankField","componentDidMount","requestList","event","setState","target","value","reqList","localStorage","setItem","JSON","stringify","render","results","map","product","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport shopCart from '../images/shopCart.png';\nimport ListCategories from './ListCategories';\n\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport CreateCard from './CreateCard';\n\nclass SearchBar extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      productList: undefined,\n      searchQuery: '',\n      searchCategory: '',\n    };\n\n    this.getQuery = this.getQuery.bind(this);\n    this.getCategory = this.getCategory.bind(this);\n    this.blankField = this.blankField.bind(this);\n  }\n\n  componentDidMount() {\n    this.requestList();\n  }\n\n  // Altera o estado de search para o valor contido na searchBar\n  async getQuery(event) {\n    await this.setState({\n      searchQuery: event.target.value,\n    });\n    // console.log(this.state.searchQuery);\n  }\n\n  async getCategory(event) {\n    await this.setState({\n      searchCategory: event.target.value,\n    });\n    this.requestList();\n    // console.log(this.state.searchCategory);\n  }\n\n  async requestList() {\n    const { searchCategory, searchQuery } = this.state;\n    const reqList = await getProductsFromCategoryAndQuery(searchCategory, searchQuery);\n    this.setState({\n      productList: reqList,\n    });\n    localStorage.setItem('productObj', JSON.stringify(reqList));\n  }\n\n  blankField() {\n    return (\n      <p className=\"alert-message\">Nenhum produto foi encontrado</p>\n    );\n  }\n\n  render() {\n    const { productList } = this.state;\n    return (\n      <>\n        <div className=\"content-category\">\n          <ListCategories fnc={ this.getCategory } />\n        </div>\n\n        <div className=\"main\">\n          <div className=\"header\">\n            <input\n              data-testid=\"query-input\"\n              type=\"text\"\n              className=\"search-bar-main\"\n              onChange={ this.getQuery }\n            />\n\n            <button\n              className=\"btn-search\"\n              data-testid=\"query-button\"\n              type=\"button\"\n              onClick={ () => this.requestList() }\n            >\n              Pesquisar\n            </button>\n\n            <Link to=\"/shopping-cart\" data-testid=\"shopping-cart-button\">\n              <img\n                src={ shopCart }\n                alt=\"Imagem do carrinho de compras\"\n                className=\"shop-cart-main\"\n              />\n            </Link>\n          </div>\n\n          <h4 data-testid=\"home-initial-message\" className=\"message\">\n            Digite algum termo de pesquisa ou escolha uma categoria.\n          </h4>\n\n          <div>\n            { !productList ? this.blankField()\n              : productList.results.map((product) => (\n                <CreateCard key={ product.id } product={ product } />)) }\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}